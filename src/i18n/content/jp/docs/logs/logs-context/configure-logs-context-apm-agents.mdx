---
title: アプリやホストのコンテキストでのログ
tags:
  - Logs
  - Enable log management in New Relic
  - Configure logs in context
metaDescription: Link your log data with related data across the rest of the New Relic platform by configuring logs in context.
translationType: machine
---

ログデータを他の遠隔測定データと相関させる必要がある場合は、New Relic でログ イン コンテキストを有効にします。ログ イン コンテキストは、ログを関連する APM データとリンクさせるメタデータを追加します。例えば、 [エラー](/docs/apm/apm-ui-pages/error-analytics/errors-page-find-fix-verify-problems/) や [ディストリビューション トレース](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data) や、New Relic One の [インフラストラクチャ モニタリング ログ](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/) からのプラットフォーム パフォーマンス データなどです。

## プラットフォーム全体の問題の根本原因を把握 [#compatibility-requirements]

アプリケーションとインフラストラクチャのすべてのデータを単一のソリューションにまとめることで、問題の根本原因をより早く把握することができます。また、ログの状況を把握することで、意味のあるパターンやトレンドを迅速に把握することができます。

次の図は、エージェントのメタデータによるエンリッチメント（コンテキストロギング）から、ログデータをフォーマットしてNew Relicに転送するまでの、ログメッセージのライフサイクルを示しています。

![New Relicのログをコンテキストダイアグラムで表示](./images/new-relic-logs-in-context-diagram.png "new-relic-logs-in-context-diagram.png")

<figcaption>
  この図は、New Relicを介したログメッセージの流れを示しています。
</figcaption>

プラットフォームのさまざまな部分からすべてのログを絞り込もうとして余分な時間を費やすことはありません。その代わりに、問題を特定して解決するために必要なログラインを正確に見るために、ログをコンテキストで有効にします。

## コンテキストでのログ取得を可能にする基本プロセス [#enable-logs]

アプリケーションの監視にどのAPMエージェントを使用するかに関わらず、コンテキスト内のログを有効にするプロセスは基本的に同じです。

1. New Relic の [ロギングの設定がすでに完了していることを確認してください。これには、アプリケーションのログを収集し、New Relic に転送されるメタデータを拡張する、サポートされているログフォワーダーの設定が含まれます。](/docs/logs/enable-log-management-new-relic/enable-log-monitoring-new-relic/enable-log-management-new-relic/)
2. [](/docs/logs/enable-log-management-new-relic/enable-log-monitoring-new-relic/enable-log-management-new-relic/)
3. [アプリでサポートされているAPMエージェントのバージョンにアップデートし、 ](/docs/logs/enable-log-management-new-relic/enable-log-monitoring-new-relic/enable-log-management-new-relic/)[分散型トレーシングを有効にする](/docs/distributed-tracing/concepts/introduction-distributed-tracing/) 。
4. APMエージェントまたはインフラストラクチャ・モニタリング・エージェントのコンテキストでログを設定します。
5. [New Relic One](/docs/logs/log-management/ui-data/use-logs-ui/#links) で、アプリやインフラのコンテキストに沿ってログを表示します。

この手順の主な違いは、ログデータの拡張と充実のためにどのログアペンダーを使用できるか、そしてAPMエージェントに選択したログアペンダーをどのように設定するかです。

詳細な情報は、以下のlogs-in-context手順を参照してください。

* [C SDK](/docs/logs/enable-log-management-new-relic/configure-logs-context/c-sdk-configure-logs-context)
* [Go](/docs/logs/enable-log-management-new-relic/configure-logs-context/configure-logs-context-go/)
* [Java](/docs/logs/enable-log-management-new-relic/configure-logs-context/java-configure-logs-context-all/)
* [.NET](/docs/logs/enable-log-management-new-relic/configure-logs-context/net-configure-logs-context-all/)
* [Node.js](/docs/logs/enable-log-management-new-relic/configure-logs-context/configure-logs-context-nodejs/)
* [PHP](/docs/logs/enable-log-management-new-relic/configure-logs-context/configure-logs-context-php/)
* [Python](/docs/logs/enable-log-management-new-relic/configure-logs-context/configure-logs-context-python/)
* [Ruby](/docs/logs/enable-log-management-new-relic/configure-logs-context/configure-logs-context-ruby/)
* [インフラ監視エージェント](/docs/logs/enable-log-management-new-relic/enable-log-monitoring-new-relic/forward-your-logs-using-infrastructure-agent/)

## APIなどのオプション [#API]

当社のロギングソリューションがニーズに合わない場合は、他のオプションを使用してログデータをNew Relicに送信することができます。

* [エージェントのAPIコールによる拡張機能のロギング](/docs/logs/new-relic-logs/apm-integration/apm-agent-apis-manual-logs-context-instrumentation)
* [Log APIによるHTTPエンドポイント](/docs/logs/log-management/log-api/introduction-log-api/)
* [TCPエンドポイント経由のSyslogプロトコル](/docs/logs/log-management/log-api/use-tcp-endpoint-forward-logs-new-relic/) （CDN、ハードウェアデバイス、またはマネージドサービスに有効）

## 次のステップ [#what-next]

![APM UIのトレース詳細のコンテキストでログを表示する](./images/logs-in-context-traces.png "APM UIでのトレース詳細のためのコンテキストでのログ")

<figcaption>
  ここでは、APMのUIで表示されるアプリのトレース詳細のコンテキストのログの例を示します。
</figcaption>

APMやインフラストラクチャーのモニタリングのためにコンテキストでログを設定した後は、New Relic One UIでログデータを最大限に活用しましょう。

* [Logs UI](/docs/logs/log-management/ui-data/use-logs-ui/) を使って、プラットフォーム全体のロギングデータを調べてみましょう。
* [APM UI](/docs/logs/log-management/ui-data/use-logs-ui/#links) で、アプリケーションのパフォーマンスのコンテキストでログを確認できます。 [エラーのトラブルシューティング](/docs/apm/apm-ui-pages/error-analytics/errors-page-find-fix-verify-problems/) [分散型トレース](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data) 、スタックトレース、アプリケーションログなどを使用します。
* [インフラストラクチャ監視エージェント](/docs/logs/enable-log-management-new-relic/enable-log-monitoring-new-relic/forward-your-logs-using-infrastructure-agent/) でログを転送することで、アプリケーションとプラットフォームの両方のパフォーマンスデータをより深く把握することができます。 [インフラストラクチャーのログ](/docs/logs/log-management/ui-data/use-logs-ui/#links) をUIで確認することができます。
* [アラートの設定](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/).
* [データのクエリ](/docs/query-your-data/explore-query-data/get-started/introduction-querying-new-relic-data/) と [ダッシュボードの作成](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards/).